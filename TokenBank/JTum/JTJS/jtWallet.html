<body>
    <div></div>
</body>
<script src="jt_wallet.js"></script>

<script>
    
    function setupWebViewJavascriptBridge(callback) {
        if (window.WebViewJavascriptBridge) { return callback(WebViewJavascriptBridge); }
        if (window.WVJBCallbacks) { return window.WVJBCallbacks.push(callback); }
        window.WVJBCallbacks = [callback];
        var WVJBIframe = document.createElement('iframe');
        WVJBIframe.style.display = 'none';
        WVJBIframe.src = 'https://__loaded__';
        document.documentElement.appendChild(WVJBIframe);
        setTimeout(function() { document.documentElement.removeChild(WVJBIframe) }, 0)
    }

setupWebViewJavascriptBridge(function(bridge) {
                             bridge.registerHandler('jt_createWallet', function(data, responseCallback) {
                                                    var wallet = jingtum.Wallet.generate();
                                                    responseCallback(wallet);
                                                    })

                             bridge.registerHandler('jt_createWalletFromPk', function(data, responseCallback){
                                                    var wallet = jingtum.Wallet.fromSecret(data);
                                                    responseCallback(wallet);
                                                    })

                             bridge.registerHandler('jt_isAddress', function(data, responseCallback){
                                                    var wallet = jingtum.Wallet.isValidAddress(data);
                                                    responseCallback(wallet);
                                                    })
                             });
    </script>

